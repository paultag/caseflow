<%#
 Prompts the user with a binary question (yes/no, option1/option2, etc)

 Partial requires the following arguments:
 - question: Text of the question being asked
 - question_num: The Form 8 question number
 - input_name: Name for the radio input fields

 The following are optional arguments:
 - div_id: The ID attribute of the containing div
 - div_class: The class attribute of the containing div
 - selected: bool, true means 'Yes' should be pre-selected, false if 'No' should be pre-selected
%>

<% yes_no_locals = {
  # Fill in local variables passed to this partial
  question: question,
  question_num: question_num,
  input_name: input_name,
}

  yes_no_locals[:options] = [
    {
       label: 'Yes',
       value: 'yes',
       id: "#{question_num}_YES"
    },
    {
       label: 'No',
       value: 'no',
       id: "#{question_num}_NO"
    }
  ]
   # Optional arguments

   if defined?(parent_id)
     yes_no_locals[:parent_id] = parent_id
   end
   if defined?(parent_class)
     yes_no_locals[:parent_class] = parent_class
   end

   if defined?(required)
     yes_no_locals[:required] = required
   end

   if defined?(linked)
     yes_no_locals[:linked] = linked
   end

   if defined?(show_when)
     yes_no_locals[:show_when] = show_when
   end

   if defined?(hidden)
     yes_no_locals[:hidden] = hidden
   end

   if defined?(close_fieldset)
     yes_no_locals[:close_fieldset] = close_fieldset
   end

   if defined?(selected)
     if selected
       yes_no_locals[:options][0][:checked] = true
     else
       yes_no_locals[:options][1][:checked] = true
     end
   end

   if defined?(requiredifshown)
     yes_no_locals[:requiredifshown] = true 
   end


%>
<%= render partial: 'form8_radio_inputs', locals: yes_no_locals %>
