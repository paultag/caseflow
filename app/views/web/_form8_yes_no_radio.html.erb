<%#
 Prompts the user with a binary question (yes/no, option1/option2, etc)

 Partial requires the following arguments:
 - question: Text of the question being asked
 - question_num: The Form 8 question number
 - input_name: Name for the radio input fields

 The following are optional arguments:
 - div_id: The ID attribute of the containing div
 - div_class: The class attribute of the containing div
 - selected: bool, true means 'Yes' should be pre-selected, false if 'No' should be pre-selected
%>

<% yes_no_locals = {
  # Same for all things using this partial
  option1_label: 'Yes',
  option1_value: 'yes',
  option2_label: 'No',
  option2_value: 'no',

  # Fill in local varialbes passed to this partial
  question: question,
  question_num: question_num,
  input_name: input_name,
}

   # Optional arguments
   if defined?(div_id)
     yes_no_locals[:div_id] = div_id
   end
   if defined?(div_class)
     yes_no_locals[:div_class] = div_class
   end

   if defined?(required)
     yes_no_locals[:required] = required
   end

   if defined?(show_when)
     yes_no_locals[:show_when] = show_when
   end

   if defined?(hidden)
     yes_no_locals[:hidden] = hidden
   end

   if defined?(close_fieldset)
     yes_no_locals[:close_fieldset] = close_fieldset
   end

   if defined?(selected)
     if selected
       yes_no_locals[:option1_checked] = true
     else
       yes_no_locals[:option2_checked] = true
     end
   end


%>
<%= render partial: 'form8_two_radio', locals: yes_no_locals %>
